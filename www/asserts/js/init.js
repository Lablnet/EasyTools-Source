document.addEventListener('DOMContentLoaded', function(){var elems=document.querySelectorAll('.sidenav'); var instances=M.Sidenav.init(elems,{});});document.addEventListener('DOMContentLoaded', function(){var elems=document.querySelectorAll('.modal'); var instances=M.Modal.init(elems,{dismissible:false});}); document.addEventListener('DOMContentLoaded', function(){var elems=document.querySelectorAll('select'); var instances=M.FormSelect.init(elems,{});});function initDB(){database=openDatabase('easytool', '1.0', 'Easy tool', 100*1024*1024); if (database){database.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS notes (id REAL UNIQUE, title TEXT ,text TEXT)", []);}); database.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS tasks (id REAL UNIQUE, isChecked TEXT ,text TEXT)", []);}); database.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS settings (id REAL UNIQUE, setting TEXT)", []);});}}function timeSince(timeStamp){timeStamp=new Date(timeStamp); var now=new Date(), secondsPast=(now.getTime() - timeStamp.getTime() ) / 1000; if(secondsPast < 60){return parseInt(secondsPast) + 's ago';}if(secondsPast < 3600){return parseInt(secondsPast/60) + 'm ago';}if(secondsPast <=86400){return parseInt(secondsPast/3600) + 'h ago';}if(secondsPast > 86400){day=timeStamp.getDate(); month=timeStamp.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""); year=timeStamp.getFullYear()==now.getFullYear() ? "" : " "+timeStamp.getFullYear(); return day + " " + month + year;}}function removeChilds(id){var node=document.getElementById(id); while (node.firstChild){node.removeChild(node.firstChild);}}function validateInput(i){if (i=null || i=="") return false; return true;}function redirect(page){window.location.href=page;}function openNoteModel(id){const elem=document.getElementById(id); const instance=M.Modal.init(elem,{dismissible: true}); instance.open();}function closeNoteModel(id){const elem=document.getElementById(id); const instance=M.Modal.init(elem,{dismissible: true}); instance.close(id);}function appendCss(id, file){var cssId=id; if (!document.getElementById(cssId)){var head=document.getElementsByTagName('head')[0]; var link=document.createElement('link'); link.id=cssId; link.rel='stylesheet'; link.type='text/css'; link.href=file; link.media='all'; head.appendChild(link);}}function initSetting(){var theme=localStorage.getItem('theme'); if (theme=='dark'){appendCss('dark', 'asserts/css/dark.css');}else{appendCss('default', 'asserts/css/init.css');}}initSetting();initDB();